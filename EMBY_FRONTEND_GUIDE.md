# Emby é›†æˆå‰ç«¯ä½¿ç”¨æŒ‡å—

## å‰ç«¯åŠŸèƒ½è¯´æ˜

### 1. ä¸»è¦é¡µé¢

#### Emby ç®¡ç†é¡µé¢ (`/emby`)
å®Œæ•´çš„ Emby åª’ä½“åº“ç®¡ç†ç•Œé¢ï¼ŒåŒ…å«ï¼š
- æœåŠ¡å™¨è¿æ¥æµ‹è¯•
- æœåŠ¡å™¨ä¿¡æ¯å±•ç¤º
- åª’ä½“åº“åˆ—è¡¨æŸ¥çœ‹
- åª’ä½“é¡¹æµè§ˆå’Œæœç´¢
- ç±»å‹ã€æ ‡ç­¾ã€å·¥ä½œå®¤åˆ†ç±»å±•ç¤º
- ä¸€é”®åŒæ­¥æ‰€æœ‰æ•°æ®

#### Emby æµ‹è¯•é¡µé¢ (`/emby-test`)
ç”¨äºæµ‹è¯• Emby API è¿æ¥çš„å·¥å…·é¡µé¢ï¼Œå¯ä»¥ï¼š
- ç›´æ¥æµ‹è¯• Emby æœåŠ¡å™¨è¿æ¥
- å¿«é€Ÿæµ‹è¯•å„ä¸ª API æ¥å£
- æŸ¥çœ‹ API è¿”å›çš„åŸå§‹æ•°æ®

### 2. å¯åŠ¨å‰ç«¯

#### å¼€å‘æ¨¡å¼

```bash
cd frontend
npm install
npm run dev
```

è®¿é—® `http://localhost:3000`

#### ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist` ç›®å½•

### 3. é…ç½®è¯´æ˜

#### å¼€å‘ç¯å¢ƒä»£ç†é…ç½®

`vite.config.js` ä¸­å·²é…ç½®ä»£ç†ï¼š

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://104.251.122.51:8099',  // åç«¯åœ°å€
      changeOrigin: true
    }
  }
}
```

å¦‚æœä½ çš„åç«¯åœ°å€ä¸åŒï¼Œè¯·ä¿®æ”¹ `target` å€¼ã€‚

#### ç”Ÿäº§ç¯å¢ƒé…ç½®

`src/utils/request.js` ä¸­é…ç½®äº†ç”Ÿäº§ç¯å¢ƒçš„ API åœ°å€ï¼š

```javascript
baseURL: import.meta.env.PROD ? 'http://104.251.122.51:8099/api' : '/api'
```

å¦‚æœéœ€è¦ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒçš„åç«¯åœ°å€ï¼Œè¯·ä¿®æ”¹è¿™é‡Œã€‚

### 4. é¡µé¢åŠŸèƒ½è¯¦è§£

#### 4.1 æµ‹è¯•è¿æ¥

ç‚¹å‡»"æµ‹è¯•è¿æ¥"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šï¼š
1. è°ƒç”¨åç«¯ `/api/emby/test` æ¥å£
2. åç«¯å°è¯•è¿æ¥ Emby æœåŠ¡å™¨
3. è¿”å›è¿æ¥ç»“æœ
4. å¦‚æœæˆåŠŸï¼Œè‡ªåŠ¨åŠ è½½æœåŠ¡å™¨ä¿¡æ¯

#### 4.2 æŸ¥çœ‹åª’ä½“åº“

åª’ä½“åº“åˆ—è¡¨æ˜¾ç¤ºï¼š
- åª’ä½“åº“åç§°
- ç±»å‹ï¼ˆç”µå½±/ç”µè§†å‰§/éŸ³ä¹ç­‰ï¼‰
- åª’ä½“é¡¹æ•°é‡
- å­˜å‚¨è·¯å¾„

ç‚¹å‡»"æŸ¥çœ‹åª’ä½“é¡¹"å¯ä»¥æŸ¥çœ‹è¯¥åª’ä½“åº“ä¸‹çš„æ‰€æœ‰å†…å®¹ã€‚

#### 4.3 æµè§ˆåª’ä½“é¡¹

åª’ä½“é¡¹åˆ—è¡¨æ˜¾ç¤ºï¼š
- åª’ä½“åç§°ï¼ˆå¸¦å›¾æ ‡ï¼‰
- ç±»å‹æ ‡ç­¾
- å¹´ä»½
- è¯„åˆ†ï¼ˆæ˜Ÿçº§æ˜¾ç¤ºï¼‰
- ç±»å‹æ ‡ç­¾
- æ–‡ä»¶å¤§å°
- æ–‡ä»¶è·¯å¾„

æ”¯æŒæœç´¢åŠŸèƒ½ï¼Œå¯ä»¥æŒ‰åç§°æœç´¢åª’ä½“é¡¹ã€‚

#### 4.4 æŸ¥çœ‹è¯¦æƒ…

ç‚¹å‡»"è¯¦æƒ…"æŒ‰é’®æŸ¥çœ‹åª’ä½“é¡¹çš„å®Œæ•´ä¿¡æ¯ï¼š
- åŸºæœ¬ä¿¡æ¯ï¼ˆIDã€ç±»å‹ã€å¹´ä»½ã€è¯„åˆ†ç­‰ï¼‰
- åˆ†ç±»ä¿¡æ¯ï¼ˆç±»å‹ã€æ ‡ç­¾ã€å·¥ä½œå®¤ï¼‰
- æ¼”å‘˜åˆ—è¡¨
- ç®€ä»‹
- æ–‡ä»¶è·¯å¾„
- åª’ä½“æºä¿¡æ¯ï¼ˆæ ¼å¼ã€å¤§å°ã€æ¯”ç‰¹ç‡ï¼‰

#### 4.5 åˆ†ç±»æµè§ˆ

ä¸‰ä¸ªåˆ†ç±»å¡ç‰‡å±•ç¤ºï¼š
- **ç±»å‹ï¼ˆGenresï¼‰**ï¼šå¦‚åŠ¨ä½œã€å–œå‰§ã€ç§‘å¹»ç­‰
- **æ ‡ç­¾ï¼ˆTagsï¼‰**ï¼šè‡ªå®šä¹‰æ ‡ç­¾
- **å·¥ä½œå®¤ï¼ˆStudiosï¼‰**ï¼šåˆ¶ä½œå…¬å¸

æ¯ä¸ªåˆ†ç±»æ˜¾ç¤ºé¡¹ç›®æ•°é‡ã€‚

#### 4.6 åŒæ­¥æ•°æ®

ç‚¹å‡»"åŒæ­¥æ‰€æœ‰æ•°æ®"æŒ‰é’®ï¼š
1. ç³»ç»Ÿä¼šéå†æ‰€æœ‰åª’ä½“åº“
2. è·å–æ¯ä¸ªåª’ä½“åº“çš„æ‰€æœ‰åª’ä½“é¡¹
3. ç»Ÿè®¡æ€»æ•°å¹¶æ˜¾ç¤ºç»“æœ
4. è‡ªåŠ¨åˆ·æ–°é¡µé¢æ•°æ®

**æ³¨æ„**ï¼šå¤§å‹åª’ä½“åº“åŒæ­¥å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ã€‚

### 5. ç•Œé¢ç‰¹æ€§

#### 5.1 å“åº”å¼è®¾è®¡
- æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- è‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸

#### 5.2 åŠ è½½çŠ¶æ€
- æ‰€æœ‰æ•°æ®åŠ è½½éƒ½æœ‰ loading åŠ¨ç”»
- é¿å…é‡å¤ç‚¹å‡»

#### 5.3 ç©ºçŠ¶æ€æç¤º
- å½“æ²¡æœ‰æ•°æ®æ—¶æ˜¾ç¤ºå‹å¥½çš„ç©ºçŠ¶æ€æç¤º
- æä¾›åˆ·æ–°æŒ‰é’®

#### 5.4 é”™è¯¯å¤„ç†
- ç½‘ç»œé”™è¯¯è‡ªåŠ¨æç¤º
- API é”™è¯¯æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- é…ç½®é”™è¯¯æ˜¾ç¤ºé…ç½®æŒ‡å—

### 6. å›¾æ ‡è¯´æ˜

é¡µé¢ä¸­ä½¿ç”¨çš„å›¾æ ‡ï¼š
- ğŸ¬ ç”µå½±å›¾æ ‡ - ç”µå½±ç±»å‹åª’ä½“
- ğŸ“º æ˜¾ç¤ºå™¨å›¾æ ‡ - ç”µè§†å‰§ç±»å‹åª’ä½“
- ğŸµ è€³æœºå›¾æ ‡ - éŸ³ä¹ç±»å‹åª’ä½“
- ğŸ“ æ–‡ä»¶å¤¹å›¾æ ‡ - å…¶ä»–ç±»å‹åª’ä½“
- âœ“ å¯¹å‹¾å›¾æ ‡ - è¿æ¥æˆåŠŸçŠ¶æ€
- ğŸ”„ åˆ·æ–°å›¾æ ‡ - åˆ·æ–°/åŒæ­¥æ“ä½œ
- ğŸ”— è¿æ¥å›¾æ ‡ - æµ‹è¯•è¿æ¥
- ğŸ‘ çœ¼ç›å›¾æ ‡ - æŸ¥çœ‹è¯¦æƒ…

### 7. å¿«æ·é”®ï¼ˆè®¡åˆ’ä¸­ï¼‰

æœªæ¥ç‰ˆæœ¬å¯èƒ½æ·»åŠ çš„å¿«æ·é”®ï¼š
- `Ctrl/Cmd + K` - å¿«é€Ÿæœç´¢
- `Ctrl/Cmd + R` - åˆ·æ–°æ•°æ®
- `Esc` - å…³é—­å¯¹è¯æ¡†

### 8. å¸¸è§é—®é¢˜

#### Q1: é¡µé¢æ˜¾ç¤º"è¯·å…ˆé…ç½® Emby æœåŠ¡å™¨"
**A**: éœ€è¦åœ¨åç«¯ `application.yml` ä¸­é…ç½® Emby æœåŠ¡å™¨ä¿¡æ¯ã€‚

#### Q2: æµ‹è¯•è¿æ¥å¤±è´¥
**A**: æ£€æŸ¥ï¼š
1. åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
2. Emby æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
3. API Key æ˜¯å¦æœ‰æ•ˆ
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

#### Q3: åª’ä½“åº“åˆ—è¡¨ä¸ºç©º
**A**: å¯èƒ½åŸå› ï¼š
1. Emby æœåŠ¡å™¨ä¸­æ²¡æœ‰åª’ä½“åº“
2. API Key å¯¹åº”çš„ç”¨æˆ·æ²¡æœ‰æƒé™
3. éœ€è¦ç‚¹å‡»"åˆ·æ–°"æŒ‰é’®

#### Q4: å›¾ç‰‡ä¸æ˜¾ç¤º
**A**: Emby çš„å›¾ç‰‡éœ€è¦å•ç‹¬é…ç½®ï¼Œå½“å‰ç‰ˆæœ¬æš‚ä¸æ”¯æŒå›¾ç‰‡æ˜¾ç¤ºã€‚

#### Q5: æœç´¢åŠŸèƒ½ä¸å·¥ä½œ
**A**: ç¡®ä¿ï¼š
1. å·²é€‰æ‹©åª’ä½“åº“
2. è¾“å…¥äº†æœç´¢å…³é”®è¯
3. åª’ä½“åº“ä¸­æœ‰åŒ¹é…çš„å†…å®¹

### 9. æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 9.1 å¤§å‹åª’ä½“åº“
å¦‚æœåª’ä½“åº“å¾ˆå¤§ï¼ˆè¶…è¿‡ 1000 é¡¹ï¼‰ï¼š
- ä½¿ç”¨æœç´¢åŠŸèƒ½è€Œä¸æ˜¯æµè§ˆå…¨éƒ¨
- é¿å…é¢‘ç¹åŒæ­¥æ‰€æœ‰æ•°æ®
- è€ƒè™‘ä½¿ç”¨åˆ†é¡µï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰

#### 9.2 ç½‘ç»œä¼˜åŒ–
- å¼€å‘ç¯å¢ƒä½¿ç”¨ä»£ç†é¿å…è·¨åŸŸ
- ç”Ÿäº§ç¯å¢ƒé…ç½® CDN
- å¯ç”¨ gzip å‹ç¼©

#### 9.3 æµè§ˆå™¨å…¼å®¹æ€§
æ¨èä½¿ç”¨ï¼š
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 10. å¼€å‘è°ƒè¯•

#### å¯ç”¨ Vue DevTools
```bash
# å®‰è£… Vue DevTools æµè§ˆå™¨æ‰©å±•
# Chrome: https://chrome.google.com/webstore/detail/vuejs-devtools/
# Firefox: https://addons.mozilla.org/en-US/firefox/addon/vue-js-devtools/
```

#### æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Network æ ‡ç­¾ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰ API è¯·æ±‚ã€‚

#### æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰â†’ Console æ ‡ç­¾ï¼Œå¯ä»¥çœ‹åˆ°é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ—¥å¿—ã€‚

### 11. è‡ªå®šä¹‰å¼€å‘

#### æ·»åŠ æ–°çš„ API æ¥å£

1. åœ¨ `src/api/emby.js` ä¸­æ·»åŠ æ–¹æ³•ï¼š
```javascript
export function getCustomData() {
  return request({
    url: '/emby/custom',
    method: 'get'
  })
}
```

2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š
```javascript
import { getCustomData } from '@/api/emby'

const loadCustomData = async () => {
  const res = await getCustomData()
  console.log(res.data)
}
```

#### ä¿®æ”¹æ ·å¼

æ‰€æœ‰æ ·å¼éƒ½åœ¨ç»„ä»¶çš„ `<style scoped>` æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨ SCSS è¯­æ³•ã€‚

å…¨å±€æ ·å¼åœ¨ `src/App.vue` çš„ `<style>` æ ‡ç­¾ä¸­ï¼ˆæ—  scopedï¼‰ã€‚

#### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/views/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/router/index.js` æ·»åŠ è·¯ç”±
3. åœ¨ `src/App.vue` æ·»åŠ èœå•é¡¹

### 12. éƒ¨ç½²è¯´æ˜

#### Nginx é…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;

    root /path/to/frontend/dist;
    index index.html;

    # å‰ç«¯è·¯ç”±
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API ä»£ç†
    location /api {
        proxy_pass http://localhost:8099;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # WebSocket ä»£ç†
    location /ws {
        proxy_pass http://localhost:8099;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

#### Docker éƒ¨ç½²

```dockerfile
FROM node:18-alpine as builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

### 13. æ›´æ–°æ—¥å¿—

#### v1.0.0 (2024-02-01)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… Emby æœåŠ¡å™¨è¿æ¥æµ‹è¯•
- âœ… åª’ä½“åº“åˆ—è¡¨å±•ç¤º
- âœ… åª’ä½“é¡¹æµè§ˆå’Œæœç´¢
- âœ… åˆ†ç±»ä¿¡æ¯å±•ç¤º
- âœ… æ•°æ®åŒæ­¥åŠŸèƒ½
- âœ… å“åº”å¼è®¾è®¡

#### è®¡åˆ’åŠŸèƒ½
- â³ å›¾ç‰‡æ˜¾ç¤ºæ”¯æŒ
- â³ åˆ†é¡µåŠŸèƒ½
- â³ é«˜çº§æœç´¢
- â³ æ‰¹é‡æ“ä½œ
- â³ å¯¼å‡ºåŠŸèƒ½
- â³ ä¸ä¸Šä¼ ç³»ç»Ÿé›†æˆ

### 14. æŠ€æœ¯æ ˆ

- **Vue 3.4.15** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **Vite 5.0.11** - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- **Element Plus 2.5.4** - Vue 3 ç»„ä»¶åº“
- **Vue Router 4.2.5** - å®˜æ–¹è·¯ç”±ç®¡ç†å™¨
- **Pinia 2.1.7** - Vue çŠ¶æ€ç®¡ç†
- **Axios 1.6.5** - HTTP å®¢æˆ·ç«¯
- **Sass 1.69.7** - CSS é¢„å¤„ç†å™¨

### 15. è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

åœ¨æäº¤ PR å‰ï¼Œè¯·ç¡®ä¿ï¼š
1. ä»£ç ç¬¦åˆ ESLint è§„èŒƒ
2. æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
3. æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
4. æ›´æ–°äº†ç›¸å…³æ–‡æ¡£

### 16. è®¸å¯è¯

MIT License

### 17. è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- é¡¹ç›®æ–‡æ¡£ï¼š`EMBY_INTEGRATION_GUIDE.md`
- åç«¯æ—¥å¿—ï¼š`logs/gd-upload-manager.log`
- GitHub Issuesï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
