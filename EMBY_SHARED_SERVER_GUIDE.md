# ğŸ” ä½¿ç”¨åˆ«äºº Emby æœåŠ¡å™¨çš„å®Œæ•´æŒ‡å—

## ğŸ“‹ ä¸‰ç§è®¿é—®æ–¹å¼

### æ–¹å¼ä¸€ï¼šå‘ç®¡ç†å‘˜ç´¢å– API Keyï¼ˆæœ€æ¨èï¼‰

#### ä¼˜ç‚¹
- âœ… æœ€å®‰å…¨
- âœ… ä¸éœ€è¦æš´éœ²å¯†ç 
- âœ… å¯ä»¥éšæ—¶æ’¤é”€
- âœ… ç®¡ç†å‘˜å¯ä»¥æ§åˆ¶æƒé™

#### æ­¥éª¤

1. **è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜**

å‘é€æ¶ˆæ¯ï¼š
```
ä½ å¥½ï¼Œæˆ‘éœ€è¦é€šè¿‡ API è®¿é—® Emby æœåŠ¡å™¨ï¼Œ
èƒ½å¦ä¸ºæˆ‘åˆ›å»ºä¸€ä¸ª API Keyï¼Ÿ
åº”ç”¨åç§°å¯ä»¥å¡«ï¼šGD Upload Manager
```

2. **ç®¡ç†å‘˜åˆ›å»º API Key**

ç®¡ç†å‘˜éœ€è¦ï¼š
- ç™»å½• Emby ç®¡ç†åå°
- è®¾ç½® â†’ é«˜çº§ â†’ API å¯†é’¥
- æ–°å»º API å¯†é’¥
- è¾“å…¥åº”ç”¨åç§°ï¼š`GD Upload Manager`
- å¤åˆ¶ç”Ÿæˆçš„ Key å‘é€ç»™ä½ 

3. **é…ç½®åˆ°é¡¹ç›®**

ç¼–è¾‘ `backend/src/main/resources/application.yml`ï¼š

```yaml
app:
  emby:
    server-url: http://emby-server-address:8096
    api-key: ç®¡ç†å‘˜ç»™ä½ çš„API-Key
    enabled: true
```

4. **é‡å¯åç«¯æœåŠ¡**

```bash
cd backend
mvn spring-boot:run
```

5. **è®¿é—®é¡µé¢**

```
http://localhost:3000/emby
```

---

### æ–¹å¼äºŒï¼šä½¿ç”¨ç”¨æˆ·åå¯†ç ç™»å½•ï¼ˆæ¨èï¼‰

#### ä¼˜ç‚¹
- âœ… ä¸éœ€è¦ç®¡ç†å‘˜å¸®åŠ©
- âœ… ä½¿ç”¨è‡ªå·±çš„è´¦å·
- âœ… è‡ªåŠ¨è·å–è®¿é—®ä»¤ç‰Œ
- âœ… æ”¯æŒ Web ç•Œé¢ç™»å½•

#### æ­¥éª¤

1. **é…ç½®æœåŠ¡å™¨åœ°å€**

ç¼–è¾‘ `backend/src/main/resources/application.yml`ï¼š

```yaml
app:
  emby:
    server-url: http://emby-server-address:8096
    api-key: ""  # ç•™ç©º
    username: ""  # å¯é€‰ï¼Œä¹Ÿå¯ä»¥åœ¨ Web ç•Œé¢è¾“å…¥
    password: ""  # å¯é€‰ï¼Œä¹Ÿå¯ä»¥åœ¨ Web ç•Œé¢è¾“å…¥
    enabled: true
```

2. **å¯åŠ¨æœåŠ¡**

```bash
# åç«¯
cd backend
mvn spring-boot:run

# å‰ç«¯
cd frontend
npm run dev
```

3. **è®¿é—®ç™»å½•é¡µé¢**

```
http://localhost:3000/emby-login
```

4. **è¾“å…¥ç™»å½•ä¿¡æ¯**

- æœåŠ¡å™¨åœ°å€ï¼š`http://emby-server-address:8096`
- ç”¨æˆ·åï¼šä½ çš„ Emby ç”¨æˆ·å
- å¯†ç ï¼šä½ çš„ Emby å¯†ç 

5. **ç‚¹å‡»ç™»å½•**

ç™»å½•æˆåŠŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·å–è®¿é—®ä»¤ç‰Œï¼Œç„¶åä½ å°±å¯ä»¥ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½äº†ã€‚

6. **è¿›å…¥ Emby ç®¡ç†**

ç‚¹å‡»"è¿›å…¥ Emby ç®¡ç†"æŒ‰é’®ï¼Œæˆ–ç›´æ¥è®¿é—®ï¼š
```
http://localhost:3000/emby
```

---

### æ–¹å¼ä¸‰ï¼šé…ç½®æ–‡ä»¶ä¸­ä¿å­˜ç”¨æˆ·åå¯†ç ï¼ˆä¸æ¨èï¼‰

#### ä¼˜ç‚¹
- âœ… è‡ªåŠ¨ç™»å½•
- âœ… ä¸éœ€è¦æ¯æ¬¡è¾“å…¥

#### ç¼ºç‚¹
- âŒ å¯†ç æ˜æ–‡ä¿å­˜
- âŒ å®‰å…¨æ€§è¾ƒä½

#### æ­¥éª¤

ç¼–è¾‘ `backend/src/main/resources/application.yml`ï¼š

```yaml
app:
  emby:
    server-url: http://emby-server-address:8096
    api-key: ""  # ç•™ç©º
    username: your-username  # ä½ çš„ç”¨æˆ·å
    password: your-password  # ä½ çš„å¯†ç 
    enabled: true
```

**æ³¨æ„**ï¼šä¸è¦å°†åŒ…å«å¯†ç çš„é…ç½®æ–‡ä»¶æäº¤åˆ° Gitï¼

---

## ğŸ” å¦‚ä½•è·å– Emby æœåŠ¡å™¨åœ°å€

### 1. è¯¢é—®ç®¡ç†å‘˜

ç›´æ¥é—®æœåŠ¡å™¨ç®¡ç†å‘˜ï¼š
```
Emby æœåŠ¡å™¨åœ°å€æ˜¯ä»€ä¹ˆï¼Ÿ
```

é€šå¸¸æ ¼å¼ä¸ºï¼š
- `http://192.168.1.100:8096`ï¼ˆå±€åŸŸç½‘ï¼‰
- `http://emby.example.com:8096`ï¼ˆåŸŸåï¼‰
- `https://emby.example.com`ï¼ˆHTTPSï¼‰

### 2. ä» Emby å®¢æˆ·ç«¯æŸ¥çœ‹

å¦‚æœä½ å·²ç»åœ¨ä½¿ç”¨ Emby å®¢æˆ·ç«¯ï¼š

**Web æµè§ˆå™¨**ï¼š
- æŸ¥çœ‹æµè§ˆå™¨åœ°å€æ 
- ä¾‹å¦‚ï¼š`http://192.168.1.100:8096/web/index.html`
- æœåŠ¡å™¨åœ°å€å°±æ˜¯ï¼š`http://192.168.1.100:8096`

**ç§»åŠ¨ç«¯ App**ï¼š
- æ‰“å¼€ Emby App
- è¿›å…¥è®¾ç½® â†’ æœåŠ¡å™¨
- æŸ¥çœ‹æœåŠ¡å™¨åœ°å€

**æ¡Œé¢å®¢æˆ·ç«¯**ï¼š
- æ‰“å¼€ Emby Theater æˆ–å…¶ä»–å®¢æˆ·ç«¯
- è®¾ç½® â†’ æœåŠ¡å™¨ä¿¡æ¯
- æŸ¥çœ‹æœåŠ¡å™¨åœ°å€

### 3. ä½¿ç”¨ Surge æŠ“åŒ…æŸ¥çœ‹

å¦‚æœä½ åœ¨ä½¿ç”¨ Emby å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç”¨ Surge æŠ“åŒ…ï¼š

1. å¯åŠ¨ Surge
2. å¯ç”¨ MITM
3. æ‰“å¼€ Emby å®¢æˆ·ç«¯
4. æŸ¥çœ‹ Recent Requests
5. æ‰¾åˆ° Emby API è¯·æ±‚
6. æŸ¥çœ‹è¯·æ±‚çš„ Host åœ°å€

---

## ğŸ§ª æµ‹è¯•è¿æ¥

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨é¡¹ç›®æµ‹è¯•é¡µé¢

è®¿é—®ï¼š
```
http://localhost:3000/emby-test
```

è¾“å…¥æœåŠ¡å™¨åœ°å€å’Œ API Keyï¼ˆæˆ–å…ˆç™»å½•ï¼‰ï¼Œç‚¹å‡»æµ‹è¯•ã€‚

### æ–¹æ³•äºŒï¼šä½¿ç”¨ curl å‘½ä»¤

**ä½¿ç”¨ API Key**ï¼š
```bash
curl -H "X-Emby-Token: YOUR_API_KEY" \
     http://emby-server:8096/emby/System/Info
```

**ä½¿ç”¨ç”¨æˆ·åå¯†ç **ï¼š
```bash
curl -X POST http://emby-server:8096/emby/Users/AuthenticateByName \
  -H "Content-Type: application/json" \
  -H "X-Emby-Authorization: MediaBrowser Client=\"Test\", Device=\"CLI\", DeviceId=\"test\", Version=\"1.0\"" \
  -d '{
    "Username": "your-username",
    "Pw": "your-password"
  }'
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æµè§ˆå™¨

è®¿é—®ï¼ˆéœ€è¦å…ˆç™»å½•æˆ–æœ‰ API Keyï¼‰ï¼š
```
http://emby-server:8096/emby/System/Info?api_key=YOUR_API_KEY
```

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | API Key | ç”¨æˆ·åå¯†ç ï¼ˆWebï¼‰ | ç”¨æˆ·åå¯†ç ï¼ˆé…ç½®ï¼‰ |
|------|---------|-------------------|-------------------|
| å®‰å…¨æ€§ | â­â­â­â­â­ | â­â­â­â­ | â­â­ |
| ä¾¿æ·æ€§ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| éœ€è¦ç®¡ç†å‘˜ | âœ… | âŒ | âŒ |
| å¯æ’¤é”€ | âœ… | âœ… | âœ… |
| è‡ªåŠ¨ç™»å½• | âœ… | âŒ | âœ… |
| æ¨èåº¦ | â­â­â­â­â­ | â­â­â­â­ | â­â­ |

---

## â“ å¸¸è§é—®é¢˜

### Q1: ç®¡ç†å‘˜ä¸æ„¿æ„ç»™ API Key æ€ä¹ˆåŠï¼Ÿ

**A**: ä½¿ç”¨æ–¹å¼äºŒï¼ˆç”¨æˆ·åå¯†ç ç™»å½•ï¼‰ï¼Œä¸éœ€è¦ç®¡ç†å‘˜å¸®åŠ©ã€‚

### Q2: å¿˜è®°äº† Emby å¯†ç æ€ä¹ˆåŠï¼Ÿ

**A**:
1. è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç 
2. æˆ–è€…ä½¿ç”¨ Emby Web ç•Œé¢çš„"å¿˜è®°å¯†ç "åŠŸèƒ½

### Q3: ç™»å½•åæç¤º"æœªæˆæƒ"ï¼Ÿ

**A**: æ£€æŸ¥ï¼š
1. ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
2. è´¦å·æ˜¯å¦è¢«ç¦ç”¨
3. æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q4: API Key å’Œç”¨æˆ·åå¯†ç å¯ä»¥åŒæ—¶é…ç½®å—ï¼Ÿ

**A**: å¯ä»¥ï¼Œç³»ç»Ÿä¼šä¼˜å…ˆä½¿ç”¨ API Keyã€‚

### Q5: å¦‚ä½•çŸ¥é“å½“å‰ä½¿ç”¨çš„æ˜¯å“ªç§è®¤è¯æ–¹å¼ï¼Ÿ

**A**: è®¿é—® `http://localhost:3000/emby-login` æŸ¥çœ‹è®¤è¯çŠ¶æ€ã€‚

### Q6: ç™»å½•åéœ€è¦ä¸€ç›´ä¿æŒç™»å½•çŠ¶æ€å—ï¼Ÿ

**A**:
- ä½¿ç”¨ API Keyï¼šä¸éœ€è¦ç™»å½•
- ä½¿ç”¨ç”¨æˆ·åå¯†ç ï¼ˆWebï¼‰ï¼šéœ€è¦ä¿æŒç™»å½•ï¼Œå…³é—­æµè§ˆå™¨åéœ€è¦é‡æ–°ç™»å½•
- ä½¿ç”¨ç”¨æˆ·åå¯†ç ï¼ˆé…ç½®ï¼‰ï¼šè‡ªåŠ¨ç™»å½•

### Q7: å¯ä»¥åŒæ—¶è¿æ¥å¤šä¸ª Emby æœåŠ¡å™¨å—ï¼Ÿ

**A**: å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒï¼Œåªèƒ½é…ç½®ä¸€ä¸ªæœåŠ¡å™¨ã€‚å¦‚éœ€æ”¯æŒå¤šæœåŠ¡å™¨ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ã€‚

---

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. ä½¿ç”¨ HTTPS

å¦‚æœ Emby æœåŠ¡å™¨æ”¯æŒ HTTPSï¼Œä¼˜å…ˆä½¿ç”¨ï¼š
```yaml
server-url: https://emby-server:8920
```

### 2. ä¸è¦åˆ†äº«å‡­è¯

- ä¸è¦åˆ†äº« API Key
- ä¸è¦åˆ†äº«ç”¨æˆ·åå¯†ç 
- ä¸è¦å°†å‡­è¯æäº¤åˆ° Git

### 3. å®šæœŸæ›´æ¢å¯†ç 

å»ºè®®æ¯ 3-6 ä¸ªæœˆæ›´æ¢ä¸€æ¬¡å¯†ç ã€‚

### 4. ä½¿ç”¨å¼ºå¯†ç 

å¯†ç åº”åŒ…å«ï¼š
- å¤§å°å†™å­—æ¯
- æ•°å­—
- ç‰¹æ®Šå­—ç¬¦
- è‡³å°‘ 12 ä½

### 5. é™åˆ¶ API Key æƒé™

å¦‚æœç®¡ç†å‘˜æ”¯æŒï¼Œå¯ä»¥åˆ›å»ºæƒé™å—é™çš„ API Keyã€‚

---

## ğŸ“ é…ç½®ç¤ºä¾‹

### ç¤ºä¾‹ä¸€ï¼šä½¿ç”¨ API Key

```yaml
app:
  emby:
    server-url: http://192.168.1.100:8096
    api-key: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
    enabled: true
```

### ç¤ºä¾‹äºŒï¼šä½¿ç”¨ç”¨æˆ·åå¯†ç ï¼ˆWeb ç™»å½•ï¼‰

```yaml
app:
  emby:
    server-url: http://192.168.1.100:8096
    api-key: ""
    enabled: true
```

ç„¶åè®¿é—® `http://localhost:3000/emby-login` ç™»å½•ã€‚

### ç¤ºä¾‹ä¸‰ï¼šä½¿ç”¨ç”¨æˆ·åå¯†ç ï¼ˆé…ç½®æ–‡ä»¶ï¼‰

```yaml
app:
  emby:
    server-url: http://192.168.1.100:8096
    api-key: ""
    username: myusername
    password: mypassword
    enabled: true
```

### ç¤ºä¾‹å››ï¼šä½¿ç”¨åŸŸåå’Œ HTTPS

```yaml
app:
  emby:
    server-url: https://emby.example.com
    api-key: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
    enabled: true
```

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### å¦‚æœä½ æ˜¯æœåŠ¡å™¨ç®¡ç†å‘˜
â†’ ä½¿ç”¨ **API Key**

### å¦‚æœä½ ä½¿ç”¨åˆ«äººçš„æœåŠ¡å™¨
â†’ ä½¿ç”¨ **ç”¨æˆ·åå¯†ç ï¼ˆWeb ç™»å½•ï¼‰**

### å¦‚æœä½ éœ€è¦è‡ªåŠ¨åŒ–è„šæœ¬
â†’ å‘ç®¡ç†å‘˜ç´¢å– **API Key**

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [EMBY_INTEGRATION_GUIDE.md](./EMBY_INTEGRATION_GUIDE.md) - å®Œæ•´é›†æˆæŒ‡å—
- [EMBY_FRONTEND_GUIDE.md](./EMBY_FRONTEND_GUIDE.md) - å‰ç«¯ä½¿ç”¨æŒ‡å—
- [EMBY_QUICKSTART.md](./EMBY_QUICKSTART.md) - å¿«é€Ÿå¼€å§‹

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£æˆ–æäº¤ Issueã€‚
